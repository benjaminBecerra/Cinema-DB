{"ast":null,"code":"const dateNormalization = date => {\n  var meses = [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"];\n  let fecha = date.split(\"-\");\n  let yyy = fecha[0];\n  let mes = \"\";\n\n  if (fecha[1][0] === \"0\") {\n    mes = fecha[1][1];\n  } else {\n    mes = fecha[1];\n  }\n\n  let dia = \"\";\n\n  if (fecha[2][0] === \"0\") {\n    dia = fecha[2][1];\n  } else {\n    dia = fecha[2];\n  }\n\n  var fechaFormateada = dia + ' de ' + meses[mes] + ' de ' + yyy;\n  fecha = [];\n  return fechaFormateada;\n};\n\nconst handleSearch = input => {\n  axios.get(`http://localhost:3000/api/cont/search/${input}`).then(data => data.data).then(data => setSearch(data.results)).then(() => Nav(\"/search\"));\n};\n\nconst handleIdSearch = (id, media) => {\n  axios.get(`http://localhost:3000/api/cont/search/${media}/${id}`).then(data => setIdSearch(data.data));\n  axios.get(`http://localhost:3000/api/cont/search/crew/${media}/${id}`).then(data => setCrew(data.data));\n};\n\nconst handleSignUp = (mail, pass) => {\n  axios.post(`http://localhost:3000/api/user/register`, {\n    email: mail.target.value,\n    password: pass.target.value\n  }).then(data => setStatus(data.data)).then(() => Nav(\"/\")).catch(err => console.log(err));\n};\n\nconst handleLogIn = (mail, pass) => {\n  axios.post(`http://localhost:3000/api/user/login`, {\n    email: mail.target.value,\n    password: pass.target.value\n  }).then(data => (setUser(data.data.email), setLocalStorage(\"user\", data.data.email))).then(() => axios.get(\"http://localhost:3000/api/user/guest\").then(data => setGuest(data.data))).then(() => Nav(\"/\")).catch(err => console.log(err));\n};\n\nconst handleLogOut = () => {\n  axios.post(`http://localhost:3000/api/user/logout`).then(data => data.status == \"200\" ? (window.localStorage.removeItem('user'), setUser(\"\")) : \"\");\n};\n\nconst handleTimeChange = () => {\n  time === 'day' ? setTime(\"week\") : setTime(\"day\");\n};\n\nconst handleMediaChange = () => {\n  media === 'movie' ? setMedia(\"tv\") : setMedia(\"movie\");\n};\n\nconst setLocalStorage = (key, value) => {\n  try {\n    window.localStorage.setItem(`${key}`, value);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport default {\n  dateNormalization,\n  handleSearch,\n  handleIdSearch,\n  handleLogIn,\n  handleLogOut,\n  handleMediaChange,\n  handleMediaChange,\n  handleTimeChange,\n  setLocalStorage\n};","map":{"version":3,"names":["dateNormalization","date","meses","fecha","split","yyy","mes","dia","fechaFormateada","handleSearch","input","axios","get","then","data","setSearch","results","Nav","handleIdSearch","id","media","setIdSearch","setCrew","handleSignUp","mail","pass","post","email","target","value","password","setStatus","catch","err","console","log","handleLogIn","setUser","setLocalStorage","setGuest","handleLogOut","status","window","localStorage","removeItem","handleTimeChange","time","setTime","handleMediaChange","setMedia","key","setItem","error"],"sources":["/Users/benja/Desktop/Bootcamp/checkpoint-TMDB-220101/src/utils/functions.js"],"sourcesContent":["const dateNormalization = (date) => {\n  var meses = [\n    \"Enero\", \"Febrero\", \"Marzo\",\n    \"Abril\", \"Mayo\", \"Junio\", \"Julio\",\n    \"Agosto\", \"Septiembre\", \"Octubre\",\n    \"Noviembre\", \"Diciembre\"\n  ]\n  let fecha = date.split(\"-\")\n  let yyy = fecha[0]\n  let mes = \"\"\n  if (fecha[1][0] === \"0\") {\n    mes = fecha[1][1]\n  } else {\n    mes = fecha[1]\n  }\n\n  let dia = \"\"\n  if (fecha[2][0] === \"0\") {\n    dia = fecha[2][1]\n  } else {\n    dia = fecha[2]\n  }\n\n  var fechaFormateada = dia + ' de ' + meses[mes] + ' de ' + yyy;\n\n  fecha = []\n\n  return fechaFormateada\n}\n\nconst handleSearch = (input) => {\n    axios.get(`http://localhost:3000/api/cont/search/${input}`)\n      .then(data => data.data)\n      .then(data => setSearch(data.results))\n      .then(() => Nav(\"/search\"))\n  }\n\nconst handleIdSearch = (id, media) => {\n    axios.get(`http://localhost:3000/api/cont/search/${media}/${id}`)\n      .then(data => setIdSearch(data.data))\n\n    axios.get(`http://localhost:3000/api/cont/search/crew/${media}/${id}`)\n      .then(data => setCrew(data.data))\n\n  }\n\n  const handleSignUp = (mail, pass) => {\n    axios.post(`http://localhost:3000/api/user/register`,\n      {\n        email: mail.target.value,\n        password: pass.target.value\n      })\n      .then(data => setStatus(data.data))\n      .then(() => Nav(\"/\"))\n      .catch(err => console.log(err))\n  }\n\n  const handleLogIn = (mail, pass) => {\n    axios.post(`http://localhost:3000/api/user/login`, { email: mail.target.value, password: pass.target.value })\n      .then(data => (setUser(data.data.email), \n      setLocalStorage(\"user\", data.data.email)))\n      .then(() => axios.get(\"http://localhost:3000/api/user/guest\")\n        .then(data => setGuest(data.data))\n      )\n      .then(() => Nav(\"/\"))\n      .catch(err => console.log(err))\n  }\n\n\n  const handleLogOut = () => {\n    axios.post(`http://localhost:3000/api/user/logout`)\n      .then(data => data.status == \"200\" ? (window.localStorage.removeItem('user'), setUser(\"\")) : \"\" )\n  }\n\n  const handleTimeChange = () => {\n    time === 'day' ? setTime(\"week\") : setTime(\"day\")\n  }\n\n  const handleMediaChange = () => {\n    media === 'movie' ? setMedia(\"tv\") : setMedia(\"movie\")\n  }\n\n  const setLocalStorage = (key,value) => {\n  try{\n    window.localStorage.setItem(`${key}`,value)\n  } catch(error){\n    console.log(error)\n    }\n  }\n\nexport default {dateNormalization, handleSearch, handleIdSearch, handleLogIn, handleLogOut, handleMediaChange, handleMediaChange, handleTimeChange, setLocalStorage}"],"mappings":"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"},"metadata":{},"sourceType":"module"}